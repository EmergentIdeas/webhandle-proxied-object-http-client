var e={d:(t,r)=>{for(var s in r)e.o(r,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:r[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{A:()=>s,x:()=>r});class r{constructor(e){Object.assign(this,{knownGet:[],knownPost:[],knownDelete:[],localMembers:[]},e)}isFirstCharLowerCase(e){return!!(e[0]+"").match(/[a-z]/)}determineVerb(e){if(this.knownGet.includes(e))return"GET";if(this.knownDelete.includes(e))return"DELETE";if(this.knownPost.includes(e))return"POST";if(e.startsWith("get")){let t=e.substring(3);if(!this.isFirstCharLowerCase(t))return"GET"}if(e.startsWith("set")){let t=e.substring(3);if(!this.isFirstCharLowerCase(t))return"PUT"}if(e.startsWith("delete")){let t=e.substring(6);if(!this.isFirstCharLowerCase(t))return"DELETE"}return"POST"}determineUrl(e){return this.urlPrefix+e}get(e,t,r){if(this.localMembers.includes(t))return Reflect.get(...arguments);let s=this.determineVerb(t),n=this.determineUrl(t,s),i=Object.assign({"Content-Type":"application/json"},this.headers);return async function(...e){let t;if("GET"===s){if(e.length>0){let t=e[0];if("object"==typeof t){let e=[];for(let r of Object.keys(t))e.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));n+="?"+e.join("&")}}}else t=JSON.stringify(e);let r={method:s,headers:i};t&&(r.body=JSON.stringify(e));let o=await fetch(n,r);if(200!=o.status){let e=new Error("Could not make request");throw e.response=o,e}return await o.json()}}set(e,t,r){if(this.localMembers.includes(t))return e[t]=r,!0;throw new Error("Access denied")}}function s(e={},t={}){return e.localMembers||(e.localMembers=[],e.localMembers.push(...Object.getOwnPropertyNames(t))),new Proxy(t,new r(e))}var n=t.x,i=t.A;export{n as ServiceWrapperProxy,i as default};
//# sourceMappingURL=index.js.map